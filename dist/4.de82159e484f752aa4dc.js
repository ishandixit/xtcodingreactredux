webpackJsonp([4],{iscL:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a("GiK3"),i=function(e){return e&&e.__esModule?e:{default:e}}(l),u=a("cgmn"),d=a("F8kA"),c=a("Oafi"),f=a("RH2O"),m=a("3giJ"),p=a("j6b1"),h=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={data:{username:"",password:""},error:{username:"",password:""},rule:{username:"email",password:"password"}},a.handleLogin=a.handleLogin.bind(a),a.handleChanges=a.handleChanges.bind(a),a}return o(t,e),s(t,[{key:"handleChanges",value:function(e){var t=this.state.rule,a=this.state.data,n=this.state.error;c.RegEx[t[e.target.name]].test(e.target.value)?"password"==e.target.name&&e.target.value.length<4?n[e.target.name]="*Enter Correct Password.":(n[e.target.name]="",a[e.target.name]=e.target.value,this.setState({data:a})):n[e.target.name]="*Invalid",this.setState({error:n})}},{key:"handleLogin",value:function(e){e.preventDefault();var t=this.state.data,a=this.state.error,n=this;this.props.history,(0,c.validateForm)(t,a)?(0,c.fetchData)("/login",{email:t.username,password:t.password}).then(function(e){200==e.status&&(e.data.token=e.token,n.props.LoggedIndata(e.data),n.props.AddUserPermissions(e.permission),setTimeout(function(){window.location.href="/"},100))}):M.toast({html:"Enter correct user and password"})}},{key:"render",value:function(){var e=this.state.data,t=this.state.error;return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"screen-height login-screen"},i.default.createElement(u.Row,{className:"container login-container middle-top margin-bottom-0"},i.default.createElement("div",{className:"content"},i.default.createElement("div",{className:"logo-content"},i.default.createElement("div",{className:"logo-content-bg"}),i.default.createElement("div",{className:"app-logo-wid"},i.default.createElement("h1",null,i.default.createElement("span",null,"Sign In")),i.default.createElement("p",null,i.default.createElement("span",null,"By Signing In, you can avail full features of our services.")),i.default.createElement("p",null))),i.default.createElement("div",{className:"form-content"},i.default.createElement("form",{onSubmit:this.handleLogin,onChange:this.handleChanges},i.default.createElement(u.Input,{type:"email",required:!0,name:"username",label:"Enter Username",error:t.username,s:12,defaultValue:e.username}),i.default.createElement(u.Input,{type:"password",required:!0,name:"password",label:"Password",error:t.password,s:12,defaultValue:e.password}),i.default.createElement(u.Row,null,i.default.createElement(u.Col,{m:12,className:"input-field"},i.default.createElement("button",{type:"submit",className:"btn z-depth-0 right"},"Login")))))))))}}]),t}(i.default.Component),g=function(e){return{ChangeUserRole:function(t){e((0,m.ChangeUserRole)(t))},LoggedIndata:function(t){e((0,m.LoggedIndata)(t))},AddUserPermissions:function(t){e((0,p.AddUserPermissions)(t))}}};t.default=(0,d.withRouter)((0,f.connect)(null,g)(h))},j6b1:function(e,t,a){"use strict";function n(e){return{type:"Add_User_Permissions",payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddUserPermissions=n}});