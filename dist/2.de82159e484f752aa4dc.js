webpackJsonp([2],{"/hIO":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(r,o){try{var s=t[r](o),l=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("GiK3"),i=n(u),d=a("t4zo"),f=n(d),p=a("RH2O"),m=a("nqH5"),h=n(m),v=a("Oafi"),b=function(e){function t(){var e,a,n,l,c=this;o(this,t);for(var u=arguments.length,i=Array(u),d=0;d<u;d++)i[d]=arguments[d];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={file:{},data:[],fileBool:!1},n.uploadExcel=function(){var e=r(regeneratorRuntime.mark(function e(t){var a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.token=n.props.token,e.next=3,(0,v.fetchData)("/upload/sku",t,"blob");case 3:if(a=e.sent,r=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),201!==a.status){e.next=11;break}return M.toast({html:"Error in excel, please retry",classes:"rounded"}),e.abrupt("return",f.default.saveAs(r,"sku_"+Date.now()+".xlsx"));case 11:if(200!==a.status){e.next=16;break}return M.toast({html:"Successfully uploaded",classes:"rounded"}),e.abrupt("return",f.default.saveAs(r,"sku_"+Date.now()+".xlsx"));case 16:M.toast({html:"Please try uploading with correct data",classes:"rounded"});case 17:case"end":return e.stop()}},e,c)}));return function(t){return e.apply(this,arguments)}}(),n.handleUploadChange=function(e){e.persist(),n.setState({file:e.target.files[0],fileBool:!0})},n.handle=function(){var e=r(regeneratorRuntime.mark(function e(t){var a,r,o,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state,r=a.file,o=a.fileBool,s=t.currentTarget.dataset.id,!o){e.next=11;break}if("upload_excel"!==s){e.next=9;break}return l=new FormData,l.append("file",r),e.next=9,n.uploadExcel(l);case 9:e.next=12;break;case 11:M.toast({html:"Please upload a file",displayLength:4e3,classes:"rounded"});case 12:case"end":return e.stop()}},e,c)}));return function(t){return e.apply(this,arguments)}}(),n.handleReportSku=r(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.fetchData)("/sku/report",{token:n.props.token},"blob");case 2:t=e.sent,a=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),200==t.status?(M.toast({html:"File downloaded successfully",classes:"rounded"}),f.default.saveAs(a,"sku_report_"+Date.now()+".xls")):t.status(300)?M.toast({html:"Internal Error while fetching sku report",classes:"rounded"}):t.status(404)&&M.toast({html:"There are no enteries of skus in DB",classes:"rounded"});case 5:case"end":return e.stop()}},e,c)})),n.handleSampleSku=r(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.getData)("/download/skuexcel","blob",n.props.token);case 2:(t=e.sent)&&(a=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),200==t.status?(M.toast({html:"Success sample excel download",classes:"rounded"}),f.default.saveAs(a,"sku_"+Date.now()+".xls")):t.status(404)&&M.toast({html:"Sample does not found",classes:"rounded"}));case 4:case"end":return e.stop()}},e,c)})),l=a,s(n,l)}return l(t,e),c(t,[{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.fetchData)("/sku/all",{token:this.props.token});case 2:t=e.sent,200===t.outputCode&&t.response.length>0?this.setState({data:t.response}):404===t.outputCode&&this.setState({data:[]}),a=document.querySelectorAll(".modal"),M.Modal.init(a,{dismissible:!1});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){var e=this.state.data;return i.default.createElement("div",null,i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col s12"},i.default.createElement("button",{"data-target":"modalformat",className:"btn btn-small modal-trigger",style:{marginRight:10}},"Upload Sku"),i.default.createElement("button",{onClick:this.handleSampleSku,className:"btn btn-small",style:{marginRight:10}},"Sample Sku"),i.default.createElement("button",{onClick:this.handleReportSku,className:"btn btn-small"},"Report Sku"),i.default.createElement(h.default,{data:e}))),i.default.createElement("div",{id:"modalformat",className:"modal"},i.default.createElement("div",{className:"modal-content"},i.default.createElement("div",{className:"row"},i.default.createElement("form",{className:"col s12"},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"file-field input-field col s6"},i.default.createElement("div",{className:"btn"},i.default.createElement("span",null,"Upload Excel"),i.default.createElement("input",{type:"file",accept:".xlsx, .xls, .csv",onChange:this.handleUploadChange})),i.default.createElement("div",{className:"file-path-wrapper"},i.default.createElement("input",{className:"file-path validate",type:"text",placeholder:"Upload xls or xlxs only"}))),i.default.createElement("div",{className:"col s12"},i.default.createElement("div",null,i.default.createElement("button",{"data-id":"upload_excel",type:"button",className:"modal-close waves-effect btn",onClick:this.handle},"Save"),i.default.createElement("button",{type:"button",style:{marginLeft:10},className:"modal-close waves-effect btn red"},"Cancel"))))))),i.default.createElement("div",{className:"modal-footer"},i.default.createElement("button",{href:"#!",className:"modal-close waves-effect waves-green btn"},"Close"))))}}]),t}(u.Component),w=function(e){return{token:e.user.token}};t.default=(0,p.connect)(w)(b)},nqH5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.data;return s.default.createElement(o.Fragment,null,s.default.createElement(c.default,{sortable:!0,filterable:!0,data:t,columns:u,defaultPageSize:100,minRows:1,showPagination:!0,className:"col m12 card z-depth-0",noDataText:s.default.createElement("span",null,"No found")}))}Object.defineProperty(t,"__esModule",{value:!0});var o=a("GiK3"),s=n(o),l=a("kYk7"),c=n(l),u=[{Header:"S. No",width:100,Cell:function(e){return e.index+1}},{Header:"Sku Code",accessor:"skuCode"},{Header:"Supplier",accessor:"supplier"},{Header:"Brand",accessor:"brand"},{Header:"Brand Code",accessor:"brandCode"},{Header:"Category",accessor:"category"},{Header:"Article No.",accessor:"articleNumber",width:120},{Header:"Color",accessor:"color"},{Header:"Size",accessor:"size"},{Header:"Mrp",accessor:"mrp"},{Header:"Sku Type",accessor:"skuType"},{Header:"Price Point",accessor:"pricePoint"},{Header:"Gender",accessor:"gender"},{Header:"Season",accessor:"season"},{Header:"Yr of Manf.",accessor:"yearOfManufucturer",width:120},{Header:"Organisation",accessor:"organisation",width:120},{Header:"Sub-Category",accessor:"subCategory",width:120},{Header:"Carton",accessor:"carton"},{Header:"Qty",accessor:"qty"},{Header:"Date",accessor:"createdAt",width:120}];t.default=r},t4zo:function(e,t,a){(function(a){var n,r,o;!function(a,s){r=[],n=s,void 0!==(o="function"==typeof n?n.apply(t,r):n)&&(e.exports=o)}(0,function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){l(n.response,t,a)},n.onerror=function(){},n.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,a){var l=s.URL||s.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?o(c):r(c.href)?n(e,t,a):o(c,c.target="_blank")):(c.href=l.createObjectURL(e),setTimeout(function(){l.revokeObjectURL(c.href)},4e4),setTimeout(function(){o(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,a,s){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),a);else if(r(e))n(e,a,s);else{var l=document.createElement("a");l.href=e,l.target="_blank",setTimeout(function(){o(l)})}}:function(e,t,a,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,a);var o="application/octet-stream"===e.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&l)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var i=s.URL||s.webkitURL,d=i.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){i.revokeObjectURL(d)},4e4)}});s.saveAs=l.saveAs=l,void 0!==e&&(e.exports=l)})}).call(t,a("DuR2"))}});